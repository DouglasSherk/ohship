<div class="page-heading">
  <h2>New Package</h2>
</div>

<%= form_for(@package, :html => {:class => 'form-horizontal'}) do |f| %>
  <% if @package.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@package.errors.count, "error") %> prohibited this package from being saved:</h2>

      <ul>
      <% @package.errors.full_messages.each do |msg| %>
        <li><%= raw msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <h3>Your shipping details</h3>

  <div class="form-group">
    <%= f.label :ship_to_name, 'Name', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :ship_to_name, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :ship_to_address, 'Address', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :ship_to_address, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :ship_to_city, 'City', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :ship_to_city, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :ship_to_state, 'State/province', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :ship_to_state, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :ship_to_country, 'Country', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.country_select :ship_to_country, [@country], {}, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :ship_to_postal_code, 'Zip/Postal code', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :ship_to_postal_code, :class => 'form-control' %>
    </div>
  </div>

  <br />

  <h3>Package details</h3>

  <div class="form-group">
    <%= f.label :origin_country, :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.select :origin_country, ['United States'], {},  :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :description, :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :description, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :value, 'Value (USD)', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :value, :value => @package.value && format('%.2f', @package.value), :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :length_in, 'Length (in)', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :length_in, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :width_in,  'Width (in)', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :width_in, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :height_in, 'Height (in)', :class => 'col-md-2 control-label' %>
    <div class="col-md-2">
      <div class="checkbox">
        <%= f.check_box :is_envelope, :id => "packageIsAnEnvelope" %> Is an envelope
      </div>
    </div>
    <div class="col-md-8">
      <%= f.text_field :height_in, :class => 'form-control', :id => "packageHeight" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :weight_lb, 'Weight (lb)', :class => 'col-md-2 control-label' %>
    <div class="col-md-10">
      <%= f.text_field :weight_lb, :class => 'form-control' %>
    </div>
  </div>

  <div class="form-group">
    <label class="col-md-2"></label>
    <div class="col-md-10">
      <button id="shipping-estimate-button" type="button" class="btn btn-primary">Get shipping estimate</button>
      <span id="shipping-estimate-display"></span>
    </div>
  </div>

  <br />

  <h3>Special Instructions</h3>
  <%= f.text_area :special_instructions, :class => 'form-control' %>

  <br />

  <div class="actions">
    <%= f.submit :class => 'btn btn-primary' %>
  </div>
<% end %>
